import"./assets/styles-B-BVPyWf.js";import{a as l,i as C}from"./assets/vendor-4yCzdkXl.js";async function b(){try{return(await l("https://dummyjson.com/products/category-list")).data}catch(t){throw console.log(t.message),new Error("Something went wrong!")}}async function f(t=1){try{return(await l.get(`https://dummyjson.com/products?limit=12&skip=${(t-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function v(t,e=1){try{return(await l.get(`https://dummyjson.com/products/category/${t}?limit=12&skip=${(e-1)*12}`)).data}catch(s){throw console.log(s.message),new Error("Something went wrong!")}}async function $(t){try{return(await l.get(`https://dummyjson.com/products/${t}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function B(t,e=1){try{return(await l.get(`https://dummyjson.com/products/search?q=${t}&limit=12&skip=${(e-1)*12}`)).data}catch(s){throw console.log(s.message),new Error("Something went wrong!")}}const o={categotiesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),formBtnClear:document.querySelector(".search-form__btn-clear"),addCartBtn:document.querySelector(".modal-product__btn--cart"),cartCount:document.querySelector("[data-cart-count]"),addWishListBtn:document.querySelector(".modal-product__btn--wishlist"),wishListCount:document.querySelector("[data-wishlist-count]")};function W(t){const e=["All",...t].map(s=>`
    <li class="categories__item">
        <button class="categories__btn" type="button">${s}</button>
    </li>
 `).join("");o.categotiesList.insertAdjacentHTML("beforeend",e)}function u(t){const e=t.map(({id:s,title:r,thumbnail:a,brand:d,category:g,price:h})=>`
    <li class="products__item" data-id="${s}">
    <img class="products__image" src="${a}" alt="${r}"/>
    <p class="products__title">${r}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${d}</span></p>
    <p class="products__category">Category:${g}</p>
    <p class="products__price">Price:${h}$</p>
 </li>
    `).join("");o.productsList.insertAdjacentHTML("beforeend",e)}function y(){o.divNotFound.classList.remove("not-found--visible"),o.productsList.innerHTML=""}function k({title:t,thumbnail:e,shippingInformation:s,category:r,price:a,description:d,returnPolicy:g}){const h=`
    <img class="modal-product__img" src="${e}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${r}</ul>
        <p class="modal-product__description">${d}</p>
        <p class="modal-product__shipping-information">Shipping:${s}</p>
        <p class="modal-product__return-policy">Return Policy:${g}</p>
        <p class="modal-product__price">Price:${a} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`;o.divModal.insertAdjacentHTML("beforeend",h)}function q(){o.modal.classList.remove("modal--is-open"),o.divModal.innerHTML=""}const m="cart";function c(){return JSON.parse(localStorage.getItem(m))}function A(){const t=c()??[];localStorage.setItem(m,JSON.stringify(t))}function P(t){const e=c();e.push(t),localStorage.setItem(m,JSON.stringify(e))}function E(t){const s=c().filter(r=>r!==t);localStorage.setItem(m,JSON.stringify(s))}const p="wishlist";function i(){return JSON.parse(localStorage.getItem(p))}function M(){const t=i()??[];localStorage.setItem(p,JSON.stringify(t))}function N(t){const e=i();e.push(t),localStorage.setItem(p,JSON.stringify(e))}function T(t){const s=i().filter(r=>r!==t);localStorage.setItem(p,JSON.stringify(s))}function L(t){let e=c();!e.includes(t)||e.length===0?o.addCartBtn.textContent="Add to cart":o.addCartBtn.textContent="Remove from cart"}function _(t){let e=i();!e.includes(t)||e.length===0?o.addWishListBtn.textContent="Add to Wishlist":o.addWishListBtn.textContent="Remove from Wishlist"}function S(){let t=c();o.cartCount.textContent=t.length}function w(){let t=i();o.wishListCount.textContent=t.length}async function j(t){if(t.target.classList.contains("categories__btn")){const e=t.target;o.categotiesList.querySelectorAll(".categories__btn").forEach(d=>{d.classList.remove("categories__btn--active")}),e.classList.add("categories__btn--active");const r=e.textContent,a=r==="All"?await f():await v(r);y(),a.products.length!==0?u(a.products):o.divNotFound.classList.add("not-found--visible")}}let n=null;async function F(t){const e=t.target.closest("li");if(e){const s=await $(e.dataset.id);k(s),o.modal.classList.add("modal--is-open"),n=e.dataset.id,L(n),_(n)}}function I(){q()}async function x(t){t.preventDefault();const e=t.target.searchValue.value.trim();if(e==="")return C.info({title:"Please write your product",position:"topLeft"});const s=await B(e);if(y(),s.products.length===0)return o.divNotFound.classList.add("not-found--visible");u(s.products)}async function J(){o.searchForm.reset(),o.productsList.innerHTML="";const t=await f();u(t.products)}function O(){let t=c();!t.includes(n)||t.length===0?P(n):E(n),L(n),S()}function H(){let t=i();!t.includes(n)||t.length===0?N(n):T(n),_(n),w()}A();M();S();w();async function R(){W(await b());const t=await f();u(t.products)}R();o.categotiesList.addEventListener("click",j);o.productsList.addEventListener("click",F);o.modalCloseBtn.addEventListener("click",I);o.searchForm.addEventListener("submit",x);o.formBtnClear.addEventListener("click",J);o.addCartBtn.addEventListener("click",O);o.addWishListBtn.addEventListener("click",H);
//# sourceMappingURL=index.js.map
