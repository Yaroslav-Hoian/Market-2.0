import{a as u,i as h}from"./vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();async function K(){try{return(await u("https://dummyjson.com/products/category-list")).data}catch(t){throw console.log(t.message),new Error("Something went wrong!")}}async function b(t=1){try{return(await u.get(`https://dummyjson.com/products?limit=12&skip=${(t-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function B(t,e=1){try{return(await u.get(`https://dummyjson.com/products/category/${t}?limit=12&skip=${(e-1)*12}`)).data}catch(o){throw console.log(o.message),new Error("Something went wrong!")}}async function y(t){try{return(await u.get(`https://dummyjson.com/products/${t}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function q(t,e=1){try{return(await u.get(`https://dummyjson.com/products/search?q=${t}&limit=12&skip=${(e-1)*12}`)).data}catch(o){throw console.log(o.message),new Error("Something went wrong!")}}const s={categotiesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),formBtnClear:document.querySelector(".search-form__btn-clear"),addCartBtn:document.querySelector(".modal-product__btn--cart"),cartCount:document.querySelector("[data-cart-count]"),addWishListBtn:document.querySelector(".modal-product__btn--wishlist"),wishListCount:document.querySelector("[data-wishlist-count]"),dataCount:document.querySelector("[data-count]"),dataPrice:document.querySelector("[data-price]"),buyProductBtn:document.querySelector(".cart-summary__btn"),changeThemeBtn:document.querySelector(".theme-toggle-btn"),body:document.querySelector("body")},m="cart";function i(){return JSON.parse(localStorage.getItem(m))}function D(){const t=i()??[];localStorage.setItem(m,JSON.stringify(t))}function N(t){const e=i();e.push(t),localStorage.setItem(m,JSON.stringify(e))}function O(t){const o=i().filter(a=>a!==t);localStorage.setItem(m,JSON.stringify(o))}function W(){const t=[];localStorage.setItem(m,JSON.stringify(t))}const g="wishlist";function l(){return JSON.parse(localStorage.getItem(g))}function R(){const t=l()??[];localStorage.setItem(g,JSON.stringify(t))}function I(t){const e=l();e.push(t),localStorage.setItem(g,JSON.stringify(e))}function M(t){const o=l().filter(a=>a!==t);localStorage.setItem(g,JSON.stringify(o))}const S="theme";function C(){return JSON.parse(localStorage.getItem(S))}function z(){const t=C()??"";localStorage.setItem(S,JSON.stringify(t))}function L(t){localStorage.setItem(S,JSON.stringify(t))}function V(t){const e=["All",...t].map(o=>`
    <li class="categories__item">
        <button class="categories__btn" type="button">${o}</button>
    </li>
 `).join("");s.categotiesList.insertAdjacentHTML("beforeend",e)}function p(t){const e=t.map(({id:o,title:a,thumbnail:r,brand:n,category:d,price:f})=>`
    <li class="products__item" data-id="${o}">
    <img class="products__image" src="${r}" alt="${a}"/>
    <p class="products__title">${a}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${n}</span></p>
    <p class="products__category">Category:${d}</p>
    <p class="products__price">Price:${f}$</p>
 </li>
    `).join("");s.productsList.insertAdjacentHTML("beforeend",e)}function w(){s.divNotFound.classList.remove("not-found--visible"),s.productsList.innerHTML=""}function x({title:t,thumbnail:e,shippingInformation:o,category:a,price:r,description:n,returnPolicy:d}){const f=`
    <img class="modal-product__img" src="${e}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${a}</ul>
        <p class="modal-product__description">${n}</p>
        <p class="modal-product__shipping-information">Shipping:${o}</p>
        <p class="modal-product__return-policy">Return Policy:${d}</p>
        <p class="modal-product__price">Price:${r} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`;s.divModal.insertAdjacentHTML("beforeend",f)}function J(){s.modal.classList.remove("modal--is-open"),s.divModal.innerHTML=""}function _(){s.productsList.innerHTML=""}async function P(){const e=i().map(r=>y(r)),o=await Promise.all(e);p(o);const a=o.reduce((r,n)=>r+n.price,0);s.dataPrice.textContent=`$ ${a.toFixed(2)}`}async function j(){const e=l().map(a=>y(a)),o=await Promise.all(e);p(o)}function $(t){let e=i();!e.includes(t)||e.length===0?s.addCartBtn.textContent="Add to cart":s.addCartBtn.textContent="Remove from cart"}function v(t){let e=l();!e.includes(t)||e.length===0?s.addWishListBtn.textContent="Add to Wishlist":s.addWishListBtn.textContent="Remove from Wishlist"}function A(){let t=i();s.cartCount.textContent=t.length}function F(){let t=l();s.wishListCount.textContent=t.length}function T(){let t=i();s.dataCount.textContent=t.length}function G(){const t=C();t!==""&&s.body.setAttribute("data-theme",t)}async function Q(t){if(t.target.classList.contains("categories__btn")){const e=t.target;s.categotiesList.querySelectorAll(".categories__btn").forEach(n=>{n.classList.remove("categories__btn--active")}),e.classList.add("categories__btn--active");const a=e.textContent,r=a==="All"?await b():await B(a);w(),r.products.length!==0?p(r.products):s.divNotFound.classList.add("not-found--visible")}}let c=null;async function U(t){const e=t.target.closest("li");if(e){const o=await y(e.dataset.id);x(o),s.modal.classList.add("modal--is-open"),c=e.dataset.id,$(c),v(c)}}function X(){J()}async function Y(t){t.preventDefault();const e=t.target.searchValue.value.trim();if(e==="")return h.info({title:"Please write your product",position:"topLeft"});const o=await q(e);if(w(),o.products.length===0)return s.divNotFound.classList.add("not-found--visible");p(o.products)}async function Z(){s.searchForm.reset(),s.productsList.innerHTML="";const t=await b();p(t.products)}function E(){let t=i();!t.includes(c)||t.length===0?N(c):O(c),$(c),A()}function tt(){E(),_(),T(),P()}function H(){let t=l();!t.includes(c)||t.length===0?I(c):M(c),v(c),F()}function et(){H(),_(),j()}function ot(){if(i().length<=0)return h.info({title:"Select your product to buy"});_(),W(),A(),T(),P(),h.success({title:"Congratulations on your purchase."})}function rt(){return s.body.hasAttribute("data-theme")?(L(""),s.body.removeAttribute("data-theme")):(L("dark"),s.body.setAttribute("data-theme","dark"))}export{D as a,R as b,A as c,F as d,X as e,E as f,et as g,U as h,z as i,rt as j,Q as k,Y as l,Z as m,H as n,V as o,K as p,b as q,s as r,G as s,p as t,T as u,P as v,j as w,tt as x,ot as y};
//# sourceMappingURL=handlers-Dcvzip9a.js.map
