import{a as g,i as y}from"./vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();async function tt(){try{return(await g("https://dummyjson.com/products/category-list")).data}catch(t){throw console.log(t.message),new Error("Something went wrong!")}}async function _(t=1){try{return(await g.get(`https://dummyjson.com/products?limit=12&skip=${(t-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function T(t,e=1){try{return(await g.get(`https://dummyjson.com/products/category/${t}?limit=12&skip=${(e-1)*12}`)).data}catch(r){throw console.log(r.message),new Error("Something went wrong!")}}async function w(t){try{return(await g.get(`https://dummyjson.com/products/${t}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function F(t,e=1){try{return(await g.get(`https://dummyjson.com/products/search?q=${t}&limit=12&skip=${(e-1)*12}`)).data}catch(r){throw console.log(r.message),new Error("Something went wrong!")}}const o={categotiesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),formBtnClear:document.querySelector(".search-form__btn-clear"),addCartBtn:document.querySelector(".modal-product__btn--cart"),cartCount:document.querySelector("[data-cart-count]"),addWishListBtn:document.querySelector(".modal-product__btn--wishlist"),wishListCount:document.querySelector("[data-wishlist-count]"),dataCount:document.querySelector("[data-count]"),dataPrice:document.querySelector("[data-price]"),buyProductBtn:document.querySelector(".cart-summary__btn"),changeThemeBtn:document.querySelector(".theme-toggle-btn"),body:document.querySelector("body"),loaderBox:document.querySelector(".loader-box"),btnLoadMore:document.querySelector(".load-more-btn"),scroll:document.querySelector(".scroll-top-btn")},f="cart";function i(){return JSON.parse(localStorage.getItem(f))}function et(){const t=i()??[];localStorage.setItem(f,JSON.stringify(t))}function J(t){const e=i();e.push(t),localStorage.setItem(f,JSON.stringify(e))}function E(t){const r=i().filter(a=>a!==t);localStorage.setItem(f,JSON.stringify(r))}function H(){const t=[];localStorage.setItem(f,JSON.stringify(t))}const L="wishlist";function p(){return JSON.parse(localStorage.getItem(L))}function ot(){const t=p()??[];localStorage.setItem(L,JSON.stringify(t))}function k(t){const e=p();e.push(t),localStorage.setItem(L,JSON.stringify(e))}function D(t){const r=p().filter(a=>a!==t);localStorage.setItem(L,JSON.stringify(r))}const C="theme";function $(){return JSON.parse(localStorage.getItem(C))}function rt(){const t=$()??"";localStorage.setItem(C,JSON.stringify(t))}function B(t){localStorage.setItem(C,JSON.stringify(t))}function st(t){const e=["All",...t].map(r=>`
    <li class="categories__item">
        <button class="categories__btn" type="button">${r}</button>
    </li>
 `).join("");o.categotiesList.insertAdjacentHTML("beforeend",e)}function m(t){const e=t.map(({id:r,title:a,thumbnail:s,brand:n,category:d,price:b})=>`
    <li class="products__item" data-id="${r}">
    <img class="products__image" src="${s}" alt="${a}"/>
    <p class="products__title">${a}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${n}</span></p>
    <p class="products__category">Category:${d}</p>
    <p class="products__price">Price:${b}$</p>
 </li>
    `).join("");o.productsList.insertAdjacentHTML("beforeend",e)}function q(){o.divNotFound.classList.remove("not-found--visible"),o.productsList.innerHTML=""}function K({title:t,thumbnail:e,shippingInformation:r,category:a,price:s,description:n,returnPolicy:d}){const b=`
    <img class="modal-product__img" src="${e}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${a}</ul>
        <p class="modal-product__description">${n}</p>
        <p class="modal-product__shipping-information">Shipping:${r}</p>
        <p class="modal-product__return-policy">Return Policy:${d}</p>
        <p class="modal-product__price">Price:${s} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`;o.divModal.insertAdjacentHTML("beforeend",b)}function R(){o.modal.classList.remove("modal--is-open"),o.divModal.innerHTML=""}function P(){o.productsList.innerHTML=""}async function M(){const e=i().map(s=>w(s)),r=await Promise.all(e);m(r);const a=r.reduce((s,n)=>s+n.price,0);o.dataPrice.textContent=`$ ${a.toFixed(2)}`}async function z(){const e=p().map(a=>w(a)),r=await Promise.all(e);m(r)}function N(t){let e=i();!e.includes(t)||e.length===0?o.addCartBtn.textContent="Add to cart":o.addCartBtn.textContent="Remove from cart"}function O(t){let e=p();!e.includes(t)||e.length===0?o.addWishListBtn.textContent="Add to Wishlist":o.addWishListBtn.textContent="Remove from Wishlist"}function W(){let t=i();o.cartCount.textContent=t.length}function V(){let t=p();o.wishListCount.textContent=t.length}function x(){let t=i();o.dataCount.textContent=t.length}function at(){const t=$();t!==""&&o.body.setAttribute("data-theme",t)}function v(){o.loaderBox.classList.remove("is-hidden")}function A(){o.loaderBox.classList.add("is-hidden")}function I(){o.btnLoadMore.classList.remove("is-hidden")}function S(){o.btnLoadMore.classList.add("is-hidden")}function Y(t){j(),t.classList.add("categories__btn--active")}function j(){o.categotiesList.querySelectorAll(".categories__btn").forEach(e=>{e.classList.remove("categories__btn--active")})}function G(){o.scroll.classList.add("scroll-top-btn--visible")}function Q(){o.scroll.classList.remove("scroll-top-btn--visible")}let u={totalPages:0,perPage:12},l=1,h="";async function nt(t){if(o.searchForm.reset(),l=1,S(),t.target.classList.contains("categories__btn")){v(),q();const e=t.target;Y(e);const r=e.textContent,a=r==="All"?await _():await T(r);A(),u.totalPages=Math.ceil(a.total/u.perPage),h=r,l>=u.totalPages?S():I(),a.products.length!==0?m(a.products):o.divNotFound.classList.add("not-found--visible")}}let c=null;async function ct(t){const e=t.target.closest("li");if(e){const r=await w(e.dataset.id);K(r),o.modal.classList.add("modal--is-open"),c=e.dataset.id,N(c),O(c)}}function it(){R()}async function lt(t){j(),l=1,t.preventDefault();const e=t.target.searchValue.value.trim();if(e==="")return y.info({title:"Please write your product",position:"topLeft"});v(),q();const r=await F(e);if(u.totalPages=Math.ceil(r.total/u.perPage),A(),r.products.length===0)return o.divNotFound.classList.add("not-found--visible");m(r.products),l>=u.totalPages?S():I()}async function dt(){o.searchForm.reset(),o.productsList.innerHTML="",v();const t=await _();A(),m(t.products)}function U(){let t=i();!t.includes(c)||t.length===0?J(c):E(c),N(c),W()}function ut(){U(),P(),x(),M()}function X(){let t=p();!t.includes(c)||t.length===0?k(c):D(c),O(c),V()}function mt(){X(),P(),z()}function pt(){if(i().length<=0)return y.info({title:"Select your product to buy"});P(),H(),W(),x(),M(),y.success({title:"Congratulations on your purchase."})}function gt(){return o.body.hasAttribute("data-theme")?(B(""),o.body.removeAttribute("data-theme")):(B("dark"),o.body.setAttribute("data-theme","dark"))}async function ft(){if(l++,l>=u.totalPages&&(y.info({title:"We're sorry, but you've reached the end of search results.",position:"topRight"}),S()),h==="All"||h===""){let t=await _(l);m(t.products)}else{let t=await T(h,l);m(t.products)}}function ht(){window.scrollY>1200?G():Q()}function yt(){window.scrollTo({top:0,behavior:"smooth"})}export{x as A,M as B,ut as C,pt as D,et as a,ot as b,W as c,V as d,it as e,U as f,mt as g,ct as h,rt as i,gt as j,yt as k,ht as l,nt as m,lt as n,dt as o,X as p,ft as q,o as r,at as s,st as t,tt as u,_ as v,z as w,m as x,u as y,I as z};
//# sourceMappingURL=handlers-8IVJICYD.js.map
