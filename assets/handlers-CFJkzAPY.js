import{a as d,i as S}from"./vendor-4yCzdkXl.js";async function j(){try{return(await d("https://dummyjson.com/products/category-list")).data}catch(t){throw console.log(t.message),new Error("Something went wrong!")}}async function f(t=1){try{return(await d.get(`https://dummyjson.com/products?limit=12&skip=${(t-1)*12}`)).data}catch(o){throw console.log(o.message),new Error("Something went wrong!")}}async function w(t,o=1){try{return(await d.get(`https://dummyjson.com/products/category/${t}?limit=12&skip=${(o-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function C(t){try{return(await d.get(`https://dummyjson.com/products/${t}`)).data}catch(o){throw console.log(o.message),new Error("Something went wrong!")}}async function b(t,o=1){try{return(await d.get(`https://dummyjson.com/products/search?q=${t}&limit=12&skip=${(o-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}const s={categotiesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),formBtnClear:document.querySelector(".search-form__btn-clear"),addCartBtn:document.querySelector(".modal-product__btn--cart"),cartCount:document.querySelector("[data-cart-count]"),addWishListBtn:document.querySelector(".modal-product__btn--wishlist"),wishListCount:document.querySelector("[data-wishlist-count]")};function T(t){const o=["All",...t].map(e=>`
    <li class="categories__item">
        <button class="categories__btn" type="button">${e}</button>
    </li>
 `).join("");s.categotiesList.insertAdjacentHTML("beforeend",o)}function h(t){const o=t.map(({id:e,title:r,thumbnail:a,brand:l,category:m,price:g})=>`
    <li class="products__item" data-id="${e}">
    <img class="products__image" src="${a}" alt="${r}"/>
    <p class="products__title">${r}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${l}</span></p>
    <p class="products__category">Category:${m}</p>
    <p class="products__price">Price:${g}$</p>
 </li>
    `).join("");s.productsList.insertAdjacentHTML("beforeend",o)}function y(){s.divNotFound.classList.remove("not-found--visible"),s.productsList.innerHTML=""}function $({title:t,thumbnail:o,shippingInformation:e,category:r,price:a,description:l,returnPolicy:m}){const g=`
    <img class="modal-product__img" src="${o}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${r}</ul>
        <p class="modal-product__description">${l}</p>
        <p class="modal-product__shipping-information">Shipping:${e}</p>
        <p class="modal-product__return-policy">Return Policy:${m}</p>
        <p class="modal-product__price">Price:${a} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`;s.divModal.insertAdjacentHTML("beforeend",g)}function v(){s.modal.classList.remove("modal--is-open"),s.divModal.innerHTML=""}const u="cart";function c(){return JSON.parse(localStorage.getItem(u))}function k(){const t=c()??[];localStorage.setItem(u,JSON.stringify(t))}function B(t){const o=c();o.push(t),localStorage.setItem(u,JSON.stringify(o))}function W(t){const e=c().filter(r=>r!==t);localStorage.setItem(u,JSON.stringify(e))}const p="wishlist";function i(){return JSON.parse(localStorage.getItem(p))}function x(){const t=i()??[];localStorage.setItem(p,JSON.stringify(t))}function q(t){const o=i();o.push(t),localStorage.setItem(p,JSON.stringify(o))}function A(t){const e=i().filter(r=>r!==t);localStorage.setItem(p,JSON.stringify(e))}function _(t){let o=c();!o.includes(t)||o.length===0?s.addCartBtn.textContent="Add to cart":s.addCartBtn.textContent="Remove from cart"}function L(t){let o=i();!o.includes(t)||o.length===0?s.addWishListBtn.textContent="Add to Wishlist":s.addWishListBtn.textContent="Remove from Wishlist"}function M(){let t=c();s.cartCount.textContent=t.length}function P(){let t=i();s.wishListCount.textContent=t.length}async function I(t){if(t.target.classList.contains("categories__btn")){const o=t.target;s.categotiesList.querySelectorAll(".categories__btn").forEach(l=>{l.classList.remove("categories__btn--active")}),o.classList.add("categories__btn--active");const r=o.textContent,a=r==="All"?await f():await w(r);y(),a.products.length!==0?h(a.products):s.divNotFound.classList.add("not-found--visible")}}let n=null;async function F(t){const o=t.target.closest("li");if(o){const e=await C(o.dataset.id);$(e),s.modal.classList.add("modal--is-open"),n=o.dataset.id,_(n),L(n)}}function J(){v()}async function O(t){t.preventDefault();const o=t.target.searchValue.value.trim();if(o==="")return S.info({title:"Please write your product",position:"topLeft"});const e=await b(o);if(y(),e.products.length===0)return s.divNotFound.classList.add("not-found--visible");h(e.products)}async function E(){s.searchForm.reset(),s.productsList.innerHTML="";const t=await f();h(t.products)}function H(){let t=c();!t.includes(n)||t.length===0?B(n):W(n),_(n),M()}function R(){let t=i();!t.includes(n)||t.length===0?q(n):A(n),L(n),P()}export{x as a,P as b,J as c,H as d,R as e,C as f,i as g,F as h,k as i,h as j,I as k,O as l,E as m,T as n,j as o,f as p,s as r,M as s};
//# sourceMappingURL=handlers-CFJkzAPY.js.map
