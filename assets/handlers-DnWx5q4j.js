import{a as u,i as h}from"./vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const r={categotiesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),formBtnClear:document.querySelector(".search-form__btn-clear"),addCartBtn:document.querySelector(".modal-product__btn--cart"),cartCount:document.querySelector("[data-cart-count]"),addWishListBtn:document.querySelector(".modal-product__btn--wishlist"),wishListCount:document.querySelector("[data-wishlist-count]"),dataCount:document.querySelector("[data-count]"),dataPrice:document.querySelector("[data-price]"),buyProductBtn:document.querySelector(".cart-summary__btn"),changeThemeBtn:document.querySelector(".theme-toggle-btn"),body:document.querySelector("body"),loaderBox:document.querySelector(".is-hidden")},m="cart";function i(){return JSON.parse(localStorage.getItem(m))}function R(){const t=i()??[];localStorage.setItem(m,JSON.stringify(t))}function N(t){const e=i();e.push(t),localStorage.setItem(m,JSON.stringify(e))}function O(t){const o=i().filter(a=>a!==t);localStorage.setItem(m,JSON.stringify(o))}function W(){const t=[];localStorage.setItem(m,JSON.stringify(t))}const g="wishlist";function l(){return JSON.parse(localStorage.getItem(g))}function z(){const t=l()??[];localStorage.setItem(g,JSON.stringify(t))}function x(t){const e=l();e.push(t),localStorage.setItem(g,JSON.stringify(e))}function I(t){const o=l().filter(a=>a!==t);localStorage.setItem(g,JSON.stringify(o))}const y="theme";function C(){return JSON.parse(localStorage.getItem(y))}function V(){const t=C()??"";localStorage.setItem(y,JSON.stringify(t))}function w(t){localStorage.setItem(y,JSON.stringify(t))}function P(){let t=i();r.cartCount.textContent=t.length}function M(){let t=l();r.wishListCount.textContent=t.length}function v(){let t=i();r.dataCount.textContent=t.length}function G(){const t=C();t!==""&&r.body.setAttribute("data-theme",t)}function S(){r.loaderBox.classList.remove("is-hidden")}function L(){r.loaderBox.classList.add("is-hidden")}async function Q(){try{return(await u("https://dummyjson.com/products/category-list")).data}catch(t){throw console.log(t.message),new Error("Something went wrong!")}}async function $(t=1){try{return(await u.get(`https://dummyjson.com/products?limit=12&skip=${(t-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function J(t,e=1){try{return(await u.get(`https://dummyjson.com/products/category/${t}?limit=12&skip=${(e-1)*12}`)).data}catch(o){throw console.log(o.message),new Error("Something went wrong!")}}async function _(t){try{return(await u.get(`https://dummyjson.com/products/${t}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function j(t,e=1){try{return(await u.get(`https://dummyjson.com/products/search?q=${t}&limit=12&skip=${(e-1)*12}`)).data}catch(o){throw console.log(o.message),new Error("Something went wrong!")}}function U(t){const e=["All",...t].map(o=>`
    <li class="categories__item">
        <button class="categories__btn" type="button">${o}</button>
    </li>
 `).join("");r.categotiesList.insertAdjacentHTML("beforeend",e)}function p(t){const e=t.map(({id:o,title:a,thumbnail:s,brand:n,category:d,price:f})=>`
    <li class="products__item" data-id="${o}">
    <img class="products__image" src="${s}" alt="${a}"/>
    <p class="products__title">${a}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${n}</span></p>
    <p class="products__category">Category:${d}</p>
    <p class="products__price">Price:${f}$</p>
 </li>
    `).join("");r.productsList.insertAdjacentHTML("beforeend",e)}function A(){r.divNotFound.classList.remove("not-found--visible"),r.productsList.innerHTML=""}function F({title:t,thumbnail:e,shippingInformation:o,category:a,price:s,description:n,returnPolicy:d}){const f=`
    <img class="modal-product__img" src="${e}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${a}</ul>
        <p class="modal-product__description">${n}</p>
        <p class="modal-product__shipping-information">Shipping:${o}</p>
        <p class="modal-product__return-policy">Return Policy:${d}</p>
        <p class="modal-product__price">Price:${s} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`;r.divModal.insertAdjacentHTML("beforeend",f)}function E(){r.modal.classList.remove("modal--is-open"),r.divModal.innerHTML=""}function b(){r.productsList.innerHTML=""}async function B(){const e=i().map(s=>_(s)),o=await Promise.all(e);p(o);const a=o.reduce((s,n)=>s+n.price,0);r.dataPrice.textContent=`$ ${a.toFixed(2)}`}async function H(){const e=l().map(a=>_(a)),o=await Promise.all(e);p(o)}function T(t){let e=i();!e.includes(t)||e.length===0?r.addCartBtn.textContent="Add to cart":r.addCartBtn.textContent="Remove from cart"}function q(t){let e=l();!e.includes(t)||e.length===0?r.addWishListBtn.textContent="Add to Wishlist":r.addWishListBtn.textContent="Remove from Wishlist"}async function X(t){if(t.target.classList.contains("categories__btn")){S(),A();const e=t.target;r.categotiesList.querySelectorAll(".categories__btn").forEach(n=>{n.classList.remove("categories__btn--active")}),e.classList.add("categories__btn--active");const a=e.textContent,s=a==="All"?await $():await J(a);L(),s.products.length!==0?p(s.products):r.divNotFound.classList.add("not-found--visible")}}let c=null;async function Y(t){const e=t.target.closest("li");if(e){const o=await _(e.dataset.id);F(o),r.modal.classList.add("modal--is-open"),c=e.dataset.id,T(c),q(c)}}function Z(){E()}async function tt(t){t.preventDefault();const e=t.target.searchValue.value.trim();if(e==="")return h.info({title:"Please write your product",position:"topLeft"});S(),A();const o=await j(e);if(L(),o.products.length===0)return r.divNotFound.classList.add("not-found--visible");p(o.products)}async function et(){r.searchForm.reset(),r.productsList.innerHTML="",S();const t=await $();L(),p(t.products)}function k(){let t=i();!t.includes(c)||t.length===0?N(c):O(c),T(c),P()}function ot(){k(),b(),v(),B()}function K(){let t=l();!t.includes(c)||t.length===0?x(c):I(c),q(c),M()}function rt(){K(),b(),H()}function st(){if(i().length<=0)return h.info({title:"Select your product to buy"});b(),W(),P(),v(),B(),h.success({title:"Congratulations on your purchase."})}function nt(){return r.body.hasAttribute("data-theme")?(w(""),r.body.removeAttribute("data-theme")):(w("dark"),r.body.setAttribute("data-theme","dark"))}export{R as a,z as b,P as c,M as d,Z as e,k as f,rt as g,Y as h,V as i,nt as j,X as k,tt as l,et as m,K as n,U as o,Q as p,$ as q,r,G as s,p as t,v as u,B as v,H as w,ot as x,st as y};
//# sourceMappingURL=handlers-DnWx5q4j.js.map
