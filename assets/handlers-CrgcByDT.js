import{a as f,i as y}from"./vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();f.defaults.baseURL="https://dummyjson.com/products";const w=new URLSearchParams({limit:12});async function Z(){try{return(await f.get("/category-list")).data}catch(t){throw console.log(t.message),new Error("Something went wrong!")}}async function _(t=1){try{return(await f.get(`?${w}&skip=${(t-1)*12}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function T(t,e=1){try{return(await f.get(`/category/${t}?${w}&skip=${(e-1)*12}`)).data}catch(r){throw console.log(r.message),new Error("Something went wrong!")}}async function C(t){try{return(await f.get(`/${t}`)).data}catch(e){throw console.log(e.message),new Error("Something went wrong!")}}async function j(t,e=1){try{return(await f.get(`/search?q=${t}&${w}&skip=${(e-1)*12}`)).data}catch(r){throw console.log(r.message),new Error("Something went wrong!")}}const o={categotiesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),formBtnClear:document.querySelector(".search-form__btn-clear"),addCartBtn:document.querySelector(".modal-product__btn--cart"),cartCount:document.querySelector("[data-cart-count]"),addWishListBtn:document.querySelector(".modal-product__btn--wishlist"),wishListCount:document.querySelector("[data-wishlist-count]"),dataCount:document.querySelector("[data-count]"),dataPrice:document.querySelector("[data-price]"),buyProductBtn:document.querySelector(".cart-summary__btn"),changeThemeBtn:document.querySelector(".theme-toggle-btn"),body:document.querySelector("body"),loaderBox:document.querySelector(".loader-box"),btnLoadMore:document.querySelector(".load-more-btn"),scroll:document.querySelector(".scroll-top-btn")},p="cart",P="theme",L="wishlist";function i(){return JSON.parse(localStorage.getItem(p))}function tt(){const t=i()??[];localStorage.setItem(p,JSON.stringify(t))}function E(t){const e=i();e.push(t),localStorage.setItem(p,JSON.stringify(e))}function H(t){const r=i().filter(a=>a!==t);localStorage.setItem(p,JSON.stringify(r))}function k(){const t=[];localStorage.setItem(p,JSON.stringify(t))}function g(){return JSON.parse(localStorage.getItem(L))}function et(){const t=g()??[];localStorage.setItem(L,JSON.stringify(t))}function R(t){const e=g();e.push(t),localStorage.setItem(L,JSON.stringify(e))}function K(t){const r=g().filter(a=>a!==t);localStorage.setItem(L,JSON.stringify(r))}function q(){return JSON.parse(localStorage.getItem(P))}function ot(){const t=q()??"";localStorage.setItem(P,JSON.stringify(t))}function A(t){localStorage.setItem(P,JSON.stringify(t))}function rt(t){const e=["All",...t].map(r=>`
    <li class="categories__item">
        <button class="categories__btn" type="button">${r}</button>
    </li>
 `).join("");o.categotiesList.insertAdjacentHTML("beforeend",e)}function m(t){const e=t.map(({id:r,title:a,thumbnail:s,brand:n,category:d,price:b})=>`
    <li class="products__item" data-id="${r}">
    <img class="products__image" src="${s}" alt="${a}"/>
    <p class="products__title">${a}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${n}</span></p>
    <p class="products__category">Category:${d}</p>
    <p class="products__price">Price:${b}$</p>
 </li>
    `).join("");o.productsList.insertAdjacentHTML("beforeend",e)}function M(){o.divNotFound.classList.remove("not-found--visible"),o.productsList.innerHTML=""}function D({title:t,thumbnail:e,shippingInformation:r,category:a,price:s,description:n,returnPolicy:d}){const b=`
    <img class="modal-product__img" src="${e}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${a}</ul>
        <p class="modal-product__description">${n}</p>
        <p class="modal-product__shipping-information">Shipping:${r}</p>
        <p class="modal-product__return-policy">Return Policy:${d}</p>
        <p class="modal-product__price">Price:${s} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`;o.divModal.insertAdjacentHTML("beforeend",b)}function z(){o.modal.classList.remove("modal--is-open"),o.divModal.innerHTML=""}function v(){o.productsList.innerHTML=""}async function N(){const e=i().map(s=>C(s)),r=await Promise.all(e);m(r);const a=r.reduce((s,n)=>s+n.price,0);o.dataPrice.textContent=`$ ${a.toFixed(2)}`}async function U(){const e=g().map(a=>C(a)),r=await Promise.all(e);m(r)}function O(t){let e=i();!e.includes(t)||e.length===0?o.addCartBtn.textContent="Add to cart":o.addCartBtn.textContent="Remove from cart"}function x(t){let e=g();!e.includes(t)||e.length===0?o.addWishListBtn.textContent="Add to Wishlist":o.addWishListBtn.textContent="Remove from Wishlist"}function W(){let t=i();o.cartCount.textContent=t.length}function V(){let t=g();o.wishListCount.textContent=t.length}function I(){let t=i();o.dataCount.textContent=t.length}function st(){const t=q();t!==""&&o.body.setAttribute("data-theme",t)}function B(){o.loaderBox.classList.remove("is-hidden")}function $(){o.loaderBox.classList.add("is-hidden")}function F(){o.btnLoadMore.classList.remove("is-hidden")}function S(){o.btnLoadMore.classList.add("is-hidden")}function Y(t){J(),t.classList.add("categories__btn--active")}function J(){o.categotiesList.querySelectorAll(".categories__btn").forEach(e=>{e.classList.remove("categories__btn--active")})}function G(){o.scroll.classList.add("scroll-top-btn--visible")}function Q(){o.scroll.classList.remove("scroll-top-btn--visible")}let u={totalPages:0,perPage:12},l=1,h="";async function at(t){if(o.searchForm.reset(),l=1,S(),t.target.classList.contains("categories__btn")){B(),M();const e=t.target;Y(e);const r=e.textContent,a=r==="All"?await _():await T(r);$(),u.totalPages=Math.ceil(a.total/u.perPage),h=r,l>=u.totalPages?S():F(),a.products.length!==0?m(a.products):o.divNotFound.classList.add("not-found--visible")}}let c=null;async function nt(t){const e=t.target.closest("li");if(e){const r=await C(e.dataset.id);D(r),o.modal.classList.add("modal--is-open"),c=e.dataset.id,O(c),x(c)}}function ct(){z()}async function it(t){J(),l=1,t.preventDefault();const e=t.target.searchValue.value.trim();if(e==="")return y.info({title:"Please write your product",position:"topLeft"});B(),M();const r=await j(e);if(u.totalPages=Math.ceil(r.total/u.perPage),$(),r.products.length===0)return o.divNotFound.classList.add("not-found--visible");m(r.products),l>=u.totalPages?S():F()}async function lt(){o.searchForm.reset(),o.productsList.innerHTML="",B();const t=await _();$(),m(t.products)}function dt(){let t=i();!t.includes(c)||t.length===0?E(c):H(c),O(c),W(),window.location.pathname.includes("cart.html")&&(v(),N(),I())}function ut(){let t=g();!t.includes(c)||t.length===0?R(c):K(c),x(c),V(),window.location.pathname.includes("wishlist.html")&&(v(),U())}function mt(){if(i().length<=0)return y.info({title:"Select your product to buy"});v(),k(),W(),I(),N(),y.success({title:"Congratulations on your purchase."})}function gt(){return o.body.hasAttribute("data-theme")?(A(""),o.body.removeAttribute("data-theme")):(A("dark"),o.body.setAttribute("data-theme","dark"))}async function ft(){if(l++,l>=u.totalPages&&(y.info({title:"We're sorry, but you've reached the end of search results.",position:"topRight"}),S()),h==="All"||h===""){let t=await _(l);m(t.products)}else{let t=await T(h,l);m(t.products)}}function pt(){window.scrollY>1200?G():Q()}function ht(){window.scrollTo({top:0,behavior:"smooth"})}export{N as A,mt as B,tt as a,et as b,W as c,V as d,ct as e,dt as f,ut as g,nt as h,ot as i,gt as j,ht as k,pt as l,at as m,it as n,lt as o,ft as p,rt as q,o as r,st as s,Z as t,_ as u,m as v,U as w,u as x,F as y,I as z};
//# sourceMappingURL=handlers-CrgcByDT.js.map
